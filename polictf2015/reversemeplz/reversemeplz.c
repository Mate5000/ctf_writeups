/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2014 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int init_proc();
// int __gmon_start__(void); weak
void sub_8048430();
signed int sub_8048440();
signed int sub_80484B0();
int sub_80484D0();
char __cdecl sub_80484FB(char a1);
int __cdecl sub_8048519(char a1);
int __cdecl sub_8048804(int a1);
int sub_80488E0();
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN unk_8048960; // weak
int (*off_8049B5C[2])() = { &sub_80484D0, &sub_80484B0 }; // weak
int (*off_8049B60)() = &sub_80484B0; // weak
char byte_8049C80; // weak
_UNKNOWN unk_8049C83; // weak
int dword_8049C84; // weak
// extern _UNKNOWN _gmon_start__; weak


//----- (080482F4) --------------------------------------------------------
int init_proc()
{
  int result; // eax@1

  result = (int)&_gmon_start__;
  if ( &_gmon_start__ )
    result = __gmon_start__();
  return result;
}
// 8048370: using guessed type int __gmon_start__(void);

//----- (0804840C) --------------------------------------------------------
#error "804840F: positive sp value has been found (funcsize=2)"

//----- (08048430) --------------------------------------------------------
void sub_8048430()
{
  ;
}

//----- (08048440) --------------------------------------------------------
signed int sub_8048440()
{
  signed int result; // eax@1

  result = &unk_8049C83 - (_UNKNOWN *)&byte_8049C80;
  if ( (unsigned int)(&unk_8049C83 - (_UNKNOWN *)&byte_8049C80) > 6 )
    result = 0;
  return result;
}
// 8048440: could not find valid save-restore pair for ebp
// 8049C80: using guessed type char byte_8049C80;

//----- (080484B0) --------------------------------------------------------
signed int sub_80484B0()
{
  signed int result; // eax@2

  if ( !byte_8049C80 )
  {
    result = sub_8048440();
    byte_8049C80 = 1;
  }
  return result;
}
// 80484B0: could not find valid save-restore pair for ebp
// 8049C80: using guessed type char byte_8049C80;

//----- (080484D0) --------------------------------------------------------
int sub_80484D0()
{
  return 0;
}
// 80484D0: could not find valid save-restore pair for ebp

//----- (080484FB) --------------------------------------------------------
char __cdecl sub_80484FB(char a1)
{
  ++dword_8049C84;
  ++dword_8049C84;
  return a1;
}
// 8049C84: using guessed type int dword_8049C84;

//----- (08048519) --------------------------------------------------------
int __cdecl sub_8048519(char a1)
{
  signed int v1; // ebx@1
  char v2; // al@1
  signed int v3; // edi@1
  int v4; // edx@5
  signed int v5; // ecx@5
  int v6; // edx@7
  char v7; // cl@9
  int v8; // edx@9
  signed int v9; // ebx@9
  int v10; // edx@9
  int v11; // edx@11
  signed int v12; // ecx@11
  signed int v13; // ebx@13
  int v14; // esi@15
  signed int v15; // edx@15
  int v16; // esi@17
  signed int v17; // ecx@17
  int v18; // esi@19
  signed int v19; // ecx@19
  int v20; // esi@21
  signed int v21; // ecx@21
  int v22; // esi@23
  signed int v23; // ebx@23
  int v24; // esi@25
  signed int v25; // ebx@25
  signed int v26; // edx@25
  int v27; // esi@27
  signed int v28; // ebx@27
  int v29; // esi@29
  signed int v30; // ebx@29
  signed int v31; // ecx@29
  int v32; // esi@31
  char v33; // cl@31
  int v34; // ebx@33
  signed int v35; // esi@33
  int v36; // ebx@35
  signed int v37; // esi@35
  signed int v38; // edx@35
  int v39; // ebx@37
  signed int v40; // esi@37
  int v41; // ebx@39
  signed int v42; // esi@39
  int v43; // ebx@41
  signed int v44; // ecx@41
  int v45; // edx@45
  signed int v46; // edi@45
  char v48; // [sp+4h] [bp-10h]@9

  v1 = 19;
  v2 = sub_80484FB(a1);
  HIWORD(v3) = 0;
  if ( (v2 & 0x3F) != 38 )
    v1 = 0;
  LOWORD(v3) = 71;
  if ( (v2 & 0x77) != 116 )
    v3 = 0;
  v4 = v3 | v1 | ((unsigned __int8)v2 << 8) | 9 * ((v2 & 0x5F) == 86);
  HIWORD(v3) = 0;
  v5 = 84;
  if ( (v2 & 0x3F) != 39 )
    v5 = 0;
  LOWORD(v3) = 48;
  v6 = v5 | v4;
  if ( (v2 & 0x4F) != 4 )
    v3 = 0;
  v7 = v2 & 0x1F;
  v8 = 8 * (v7 == 1) | 2 * (v7 == 15) | v6 | v3 | 2 * ((v2 & 0x5B) == 83) | 3 * ((v2 & 0x57) == 80);
  v48 = ~v2;
  HIWORD(v3) = 0;
  v9 = 114;
  v10 = 8 * ((v2 & 0x2E) == 44) | 2 * ((v2 & 0x57) == 66) | 8 * (v7 == 2) | 8 * (v7 == 11) | v8;
  if ( (v2 & 0x37) != 37 )
    v9 = 0;
  LOWORD(v3) = 16;
  v11 = v9 | v10;
  v12 = 0;
  if ( (v2 & 0x1C) == 8 )
    v12 = v3;
  v13 = 64;
  if ( (v2 & 0x1D) != 16 )
    v13 = 0;
  v14 = v13 | v12 | v11 | ((~v2 & 0x78u) < 1 ? 0x48 : 0);
  v15 = 0;
  if ( (v2 & 0xF) == 11 )
    v15 = v3;
  v16 = 4 * ((v2 & 0x55) == 64) | v15 | v14;
  v17 = 72;
  if ( (v2 & 0x4B) != 1 )
    v17 = 0;
  v18 = v17 | v16;
  v19 = 24;
  if ( (v2 & 0x47) != 1 )
    v19 = 0;
  v20 = v19 | v18;
  v21 = 96;
  if ( (v2 & 0x2B) != 34 )
    v21 = 0;
  v22 = ((v48 & 0x55u) < 1 ? 0x48 : 0) | v21 | v20;
  v23 = 0;
  if ( (v2 & 0x31) == 16 )
    v23 = v3;
  v24 = v23 | v22;
  v25 = 0;
  v26 = 68;
  if ( (v2 & 0x55) == 81 )
    v25 = 68;
  LOBYTE(v26) = 32;
  v27 = v25 | v24;
  v28 = 0;
  if ( (v2 & 0xE) == 8 )
    v28 = v26;
  LOBYTE(v26) = 0;
  v29 = v28 | v27;
  v30 = 81;
  v31 = 97;
  if ( (v2 & 0x59) != 72 )
    v31 = v26;
  v32 = v31 | v29;
  v33 = v2 & 0x17;
  if ( (v2 & 0x17) != 4 )
    v30 = v26;
  v34 = v32 | v30;
  v35 = 37;
  if ( (v2 & 0x47) != 66 )
    v35 = v26;
  v36 = v34 | v35 | 8 * ((v2 & 0x43) == 2);
  v37 = 0;
  v38 = 32;
  if ( (v2 & 0x46) == 2 )
    v37 = v3;
  LOWORD(v3) = 0;
  v39 = v37 | v36;
  v40 = 80;
  if ( v33 != 3 )
    v40 = v3;
  v41 = v40 | v39;
  v42 = 70;
  if ( v33 != 1 )
    v42 = v3;
  v43 = v42 | v41;
  v44 = 40;
  if ( (v2 & 0x70) != 64 )
    v44 = v3;
  if ( (v2 & 0x48) != 64 )
    v38 = 0;
  v45 = 4 * ((v2 & 0x41) == 1) | ((v48 & 0xBu) < 1 ? 0x60 : 0) | v44 | v43 | v38;
  v46 = 0;
  if ( (v2 & 0x21) == 1 )
    v46 = 68;
  return v46 | v45;
}

//----- (08048804) --------------------------------------------------------
int __cdecl sub_8048804(int a1)
{
  signed int v1; // edi@1
  int v2; // esi@1
  char v3; // al@6
  int v4; // eax@10
  char v6; // dl@16
  char i; // al@16
  char v8; // [sp+3h] [bp-59h]@13
  char v9; // [sp+4h] [bp-58h]@6
  char v10; // [sp+5h] [bp-57h]@16
  int v11; // [sp+10h] [bp-4Ch]@13
  char v12; // [sp+14h] [bp-48h]@1

  qmemcpy(&v12, &unk_8048960, 0x3Cu);
  v1 = 0;
  v2 = 0;
  do
  {
    if ( *(_BYTE *)(a1 + v2) <= 96 )
      *(_BYTE *)(a1 + v2) = sub_8048519(*(_BYTE *)(a1 + 1) & 1);
    if ( *(_BYTE *)(a1 + v2) > 122 )
      *(_BYTE *)(a1 + v2) = sub_8048519(*(_BYTE *)(a1 + 1) & 2);
    v3 = sub_8048519(*(_BYTE *)(a1 + v2));
    *(&v9 + v2) = v3;
    if ( v3 != -49 && (unsigned __int8)v3 > 0xCCu )
      v1 = 1;
    ++v2;
  }
  while ( v2 != 15 );
  v4 = 0;
  if ( v1 != 1 )
  {
    while ( 1 )
    {
      ++v4;
      if ( (unsigned __int8)*(&v9 + v4) - (unsigned __int8)*(&v8 + v4) != *(&v11 + v4) )
        break;
      if ( v4 == 14 )
      {
        if ( *(_BYTE *)(a1 + 15) )
        {
          v6 = v10;
          for ( i = v9; i != -52; i ^= v6-- )
            ;
          return 0;
        }
        if ( sub_8048519(0) )
          return 0;
        return (unsigned __int8)sub_8048519(*(_BYTE *)a1) != 0;
      }
    }
  }
  return 0;
}

//----- (080488E0) --------------------------------------------------------
int sub_80488E0()
{
  int v0; // edi@1
  int result; // eax@1
  signed int v2; // esi@1

  v0 = 0;
  init_proc();
  result = (int)off_8049B5C;
  v2 = &off_8049B60 - off_8049B5C;
  if ( v2 )
  {
    do
      result = off_8049B5C[v0++]();
    while ( v0 != v2 );
  }
  return result;
}
// 8049B5C: using guessed type int (*off_8049B5C[2])();
// 8049B60: using guessed type int (*off_8049B60)();

//----- (08048944) --------------------------------------------------------
void term_proc()
{
  ;
}

#error "There were 1 decompilation failure(s) on 11 function(s)"
